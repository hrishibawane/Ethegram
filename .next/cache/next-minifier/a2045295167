{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{LHUj:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/chat\",function(){return n(\"dN0P\")}])},dN0P:function(e,t,n){\"use strict\";n.r(t),function(e){var a=n(\"o0o1\"),r=n.n(a),s=n(\"1OyB\"),c=n(\"vuIU\"),o=n(\"md7G\"),u=n(\"foSv\"),i=n(\"JX7q\"),l=n(\"Ji7U\"),d=n(\"rePB\"),p=n(\"q1tI\"),g=n.n(p),h=n(\"5Yp1\"),m=n(\"yE/o\"),f=n(\"WYlG\"),b=n(\"vFsZ\"),v=n(\"QetY\"),w=n(\"SqLp\"),x=n(\"IXaP\"),j=n(\"oZBQ\"),O=(n(\"8cHP\"),n(\"XCdf\")),y=g.a.createElement,S=function(t){function n(){var t,a;Object(s.a)(this,n);for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return a=Object(o.a)(this,(t=Object(u.a)(n)).call.apply(t,[this].concat(l))),Object(d.a)(Object(i.a)(a),\"state\",{caption:\"\",prevMsgs:\"\",messages:[],currmsg:\"\",currAcc:\"\",username:\"\",items:[],loading:!1}),Object(d.a)(Object(i.a)(a),\"renderMsgs\",(function(){return a.state.messages.map((function(e,t){var n=e.split(\" *** \");return{key:t,description:y(\"div\",{style:{width:\"fit-content\",border:\"1px solid\",borderColor:O.a.menuBackground,margin:\"5px\",padding:\"10px\",paddingRight:\"50px\",backgroundColor:O.a.white,borderRadius:\"10px\",color:O.a.menuBackground}},y(\"b\",null,n[0]),y(\"p\",null,n[1])),backgroundColor:O.a.ddbackground}}))})),Object(d.a)(Object(i.a)(a),\"onSend\",(function(){var t,n,s;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a.setState({loading:!0}),(t=a.state.prevMsgs).length>0?t+=\" /// \"+a.state.username+\" *** \"+a.state.currmsg:t+=a.state.username+\" *** \"+a.state.currmsg,a.setState({prevMsgs:t,currmsg:\"\"}),c.next=6,r.a.awrap(e.from(t));case 6:return n=c.sent,console.log(n),c.next=10,r.a.awrap(w.a.add(n));case 10:return s=c.sent,console.log(s),c.next=14,r.a.awrap(x.a.methods.setChatHash(s[0].hash).send({from:a.state.currAcc}));case 14:a.componentDidMount(),a.setState({loading:!1});case 16:case\"end\":return c.stop()}}),null,null,null,Promise)})),a}return Object(l.a)(n,t),Object(c.a)(n,[{key:\"componentDidMount\",value:function(){var e,t,n,a,s,c;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.a.awrap(j.a.eth.getAccounts());case 2:return e=o.sent,o.next=5,r.a.awrap(x.a.methods.getUserDetails(e[0]).call());case 5:return t=o.sent,this.setState({currAcc:e[0],username:t[0]}),o.next=9,r.a.awrap(x.a.methods.chatHash().call());case 9:if(!((n=o.sent).length>0)){o.next=18;break}return o.next=13,r.a.awrap(w.a.files.get(n));case 13:a=o.sent,console.log(a[0].content),s=new TextDecoder(\"utf-8\").decode(a[0].content),console.log(s),this.setState({messages:s.split(\"///\"),prevMsgs:s});case 18:c=this.renderMsgs(),this.setState({items:c});case 20:case\"end\":return o.stop()}}),null,this,null,Promise)}},{key:\"render\",value:function(){var e=this;return y(h.a,null,y(m.a,null,y(\"h3\",null,\"Chat Room\"),y(\"hr\",null),y(f.a,{items:this.state.items}),y(b.a,{onSubmit:function(){return e.onSend()}},y(b.a.Input,{fluid:!0,placeholder:\"Write your message...\",value:this.state.currmsg,onChange:function(t){return e.setState({currmsg:t.target.value})}}),y(v.a,{icon:\"send\",style:{backgroundColor:O.a.menuBackground,color:O.a.menuText},content:\"Send\",loading:this.state.loading}))))}}]),n}(p.Component);t.default=S}.call(this,n(\"HDXh\").Buffer)},\"yE/o\":function(e,t,n){\"use strict\";var a=n(\"pVnL\"),r=n.n(a),s=n(\"TSYQ\"),c=n.n(s),o=(n(\"c31U\"),n(\"q1tI\")),u=n.n(o),i=n(\"ZeOK\"),l=n(\"ICNK\"),d=n(\"Y53p\"),p=n(\"H+2d\");function g(e){var t=e.children,n=e.className,a=e.content,s=e.fluid,o=e.text,h=e.textAlign,m=c()(\"ui\",Object(i.a)(o,\"text\"),Object(i.a)(s,\"fluid\"),Object(i.d)(h),\"container\",n),f=Object(l.a)(g,e),b=Object(d.a)(g,e);return u.a.createElement(b,r()({},f,{className:m}),p.a.isNil(t)?a:t)}g.handledProps=[\"as\",\"children\",\"className\",\"content\",\"fluid\",\"text\",\"textAlign\"],g.propTypes={},t.a=g}},[[\"LHUj\",0,2,5,1,3,4,6,7]]]);"}
{"ast":null,"code":"var _jsxFileName = \"/home/hrishib/Desktop/Ethegram/pages/index.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport { Card, Button, Grid, Image, Form, Modal, Header, List, Input } from \"semantic-ui-react\";\nimport Layout from \"../components/Layout\";\nimport social from \"../ethereum/social\";\nimport web3 from \"../ethereum/web3\";\nimport { Link, Router } from \"../routes\";\nimport ipfs from \"../ethereum/ipfs\";\nimport COLORS from \"../colors\";\n\nconst NewsAPI = require(\"newsapi\");\n\nconst newsapi = new NewsAPI(\"9596f3ac23f5400a981fa2a3e2f8411b\");\n\nclass SocialIndex extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      currAccount: \"\",\n      posts: [],\n      postCount: 0,\n      items: [],\n      images: [],\n      newComment: \"\",\n      disabled: false,\n      loading: false,\n      name: \"\",\n      index: 0,\n      username: \"unknown\",\n      done: false,\n      modal: false,\n      articles: [],\n      news: []\n    });\n\n    _defineProperty(this, \"onSubmit\", async index => {\n      console.log(index);\n      const accs = await web3.eth.getAccounts();\n      var str = this.state.username + \": \" + this.state.newComment;\n      console.log(str);\n\n      try {\n        await social.methods.postComment(index, str).send({\n          from: accs[0]\n        });\n        console.log(\"Comment Posted by \" + accs[0]);\n        this.setState({\n          caption: \"\"\n        });\n      } catch (err) {\n        console.log(err.message);\n      }\n    });\n\n    _defineProperty(this, \"likePost\", async index => {\n      console.log(index);\n\n      try {\n        await social.methods.likePost(index).send({\n          from: this.state.currAccount\n        });\n        this.setState({\n          done: true\n        });\n      } catch (err) {}\n    });\n\n    _defineProperty(this, \"signIn\", async () => {\n      this.setState({\n        loading: true\n      });\n      await social.methods.signIn(this.state.name).send({\n        from: this.state.currAccount,\n        value: web3.utils.toWei(\"0.02\", \"ether\")\n      });\n      this.setState({\n        loading: false,\n        disabled: true\n      });\n    });\n\n    _defineProperty(this, \"renderArticles\", () => {\n      const articles = this.state.articles;\n      const news = articles.map((article, index) => {\n        return {\n          key: index,\n          header: __jsx(\"h4\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }, article.title),\n          description: __jsx(\"p\", {\n            style: {\n              fontSize: \"15px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          }, article.description),\n          extra: __jsx(\"a\", {\n            href: article.url,\n            target: \"_blank\",\n            style: {\n              color: \"blue\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }, article.url),\n          fluid: true,\n          style: {\n            backgroundColor: COLORS.background\n          }\n        };\n      });\n      this.setState({\n        news: news\n      });\n    });\n\n    _defineProperty(this, \"renderPosts\", async () => {\n      const posts = this.state.posts;\n      console.log(this.state.postCount);\n      const items = await Promise.all(posts.map(async (post, index) => {\n        const name = await social.methods.getUserDetails(post.owner).call();\n        let src;\n\n        if (post.imgIpfsHash.length > 0) {\n          const data = await ipfs.files.get(post.imgIpfsHash);\n          const bpic = this.uint8ToBase64(data[0].content);\n          src = \"data:image/png;base64,\" + bpic;\n        } else {\n          src = null;\n        }\n\n        return {\n          key: index,\n          header: __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 163\n            },\n            __self: this\n          }, __jsx(\"h4\", {\n            style: {\n              marginBottom: \"0px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 164\n            },\n            __self: this\n          }, name[0]), __jsx(\"p\", {\n            style: {\n              color: \"grey\",\n              marginTop: \"0px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 165\n            },\n            __self: this\n          }, post.timestamp), __jsx(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 168\n            },\n            __self: this\n          }, post.caption)),\n          description: __jsx(\"div\", {\n            style: {\n              border: \"2px solid grey\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 172\n            },\n            __self: this\n          }, __jsx(\"p\", {\n            style: {\n              margin: \"10px\",\n              fontSize: \"15px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 173\n            },\n            __self: this\n          }, post.description), __jsx(Image, {\n            style: {\n              padding: \"20px\"\n            },\n            hidden: src == null,\n            src: src,\n            fluid: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 176\n            },\n            __self: this\n          })),\n          extra: __jsx(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 185\n            },\n            __self: this\n          }, __jsx(Form, {\n            onSubmit: () => this.onSubmit(index),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 186\n            },\n            __self: this\n          }, __jsx(Form.Field, {\n            inline: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 187\n            },\n            __self: this\n          }, __jsx(Input, {\n            required: true,\n            focus: true,\n            placeholder: \"Add a comment...\",\n            value: this.state.caption,\n            onChange: event => this.setState({\n              newComment: event.target.value\n            }),\n            style: {\n              width: \"70%\",\n              height: \"40px\",\n              marginRight: \"0px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188\n            },\n            __self: this\n          }), __jsx(Button, {\n            size: \"small\",\n            color: \"linkedin\",\n            content: \"Post Comment\",\n            icon: \"edit\",\n            style: {\n              height: \"40px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198\n            },\n            __self: this\n          }))), __jsx(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 207\n            },\n            __self: this\n          }), __jsx(Button, {\n            onClick: () => this.likePost(index),\n            color: \"red\",\n            content: \"Like\",\n            icon: \"heart\",\n            size: \"medium\",\n            label: {\n              basic: true,\n              color: \"red\",\n              content: post.likes\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 208\n            },\n            __self: this\n          }), __jsx(Modal, {\n            trigger: __jsx(Button, {\n              size: \"medium\",\n              color: \"facebook\",\n              content: \"View Comments\",\n              icon: \"comments\",\n              onClick: () => this.setState({\n                modal: true\n              }),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 218\n              },\n              __self: this\n            }),\n            size: \"small\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          }, __jsx(Header, {\n            content: \"Comments\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 228\n            },\n            __self: this\n          }), __jsx(Modal.Content, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 229\n            },\n            __self: this\n          }, __jsx(List, {\n            divided: true,\n            items: post.comments.split(\"/\"),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 230\n            },\n            __self: this\n          })), __jsx(Modal.Actions, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 232\n            },\n            __self: this\n          }, __jsx(Button, {\n            color: \"red\",\n            content: \"Close\",\n            icon: \"close\",\n            inverted: true,\n            onClick: () => this.setState({\n              modal: false\n            }),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 233\n            },\n            __self: this\n          })))),\n          fluid: true\n        };\n      }));\n      this.setState({\n        items: items\n      });\n    });\n  }\n\n  async componentDidMount() {\n    const accs = await web3.eth.getAccounts();\n    const isUser = await social.methods.isUser(accs[0]).call();\n    const userDetails = await social.methods.getUserDetails(accs[0]).call();\n    const username = userDetails[0];\n    let balance = await social.methods.getContractBalance().call();\n    balance = web3.utils.fromWei(balance, \"ether\");\n    console.log(accs[0], username);\n    console.log(\"Balance: \" + balance);\n    this.setState({\n      disabled: isUser,\n      currAccount: accs[0],\n      username: username\n    });\n    const postCount = await social.methods.getPostsCount().call();\n    const posts = await Promise.all(Array(parseInt(postCount)).fill().map((element, index) => {\n      return social.methods.posts(index).call();\n    }));\n    this.setState({\n      posts: posts,\n      postCount: postCount\n    });\n    this.renderPosts();\n    newsapi.v2.topHeadlines({\n      language: \"en\",\n      country: \"in\"\n    }).then(response => {\n      console.log(response.articles);\n      this.setState({\n        articles: response.articles\n      });\n      this.renderArticles();\n    });\n  }\n\n  uint8ToBase64(buffer) {\n    var binary = \"\";\n    var bytes = [].slice.call(new Uint8Array(buffer));\n    bytes.forEach(b => binary += String.fromCharCode(b));\n    return window.btoa(binary);\n  }\n\n  render() {\n    return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, __jsx(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"Posts\"), __jsx(Grid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, __jsx(Grid.Column, {\n      width: 11,\n      style: {\n        marginRight: \"10px\",\n        paddingRight: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, __jsx(Card.Group, {\n      centered: true,\n      items: this.state.items,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    })), __jsx(Grid.Column, {\n      width: 4,\n      textAlign: \"left\",\n      style: {\n        marginLeft: \"40px\",\n        marginTop: \"15px\",\n        border: \"1px solid #A9A9A9\",\n        borderRadius: \"5px\",\n        backgroundColor: COLORS.white\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, __jsx(Form, {\n      style: {\n        backgroundColor: COLORS.background,\n        padding: \"10px\",\n        border: \"1px solid #A9A9A9\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, __jsx(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, __jsx(\"h4\", {\n      style: {\n        color: COLORS.menuBackground\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Name:\")), __jsx(Form.Input, {\n      style: {\n        marginTop: \"5px\"\n      },\n      disabled: this.state.disabled,\n      fluid: true,\n      value: this.state.name,\n      onChange: event => this.setState({\n        name: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }), __jsx(Button, {\n      size: \"medium\",\n      content: \"Sign In\",\n      onClick: this.signIn,\n      style: {\n        backgroundColor: COLORS.menuBackground,\n        color: COLORS.menuText,\n        width: \"100%\"\n      },\n      disabled: this.state.disabled,\n      loading: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    })), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }), __jsx(Link, {\n      route: \"/profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      style: {\n        color: COLORS.menuBackground\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, __jsx(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, \"Signed in as \", this.state.username))), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }), __jsx(Link, {\n      route: \"/posts/new\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, __jsx(Button, {\n      content: \"Create New Post\",\n      size: \"medium\",\n      style: {\n        backgroundColor: COLORS.menuBackground,\n        color: COLORS.menuText,\n        width: \"100%\"\n      },\n      disabled: !this.state.disabled,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }))), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }), __jsx(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }), __jsx(\"h3\", {\n      style: {\n        marginBottom: \"0px\",\n        color: COLORS.menuBackground\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, \"News Updates\"), __jsx(\"p\", {\n      style: {\n        color: \"grey\",\n        marginBottom: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, \"Powered by newsapi.org\"), __jsx(Card.Group, {\n      items: this.state.news,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default SocialIndex;","map":{"version":3,"sources":["/home/hrishib/Desktop/Ethegram/pages/index.js"],"names":["React","Component","Card","Button","Grid","Image","Form","Modal","Header","List","Input","Layout","social","web3","Link","Router","ipfs","COLORS","NewsAPI","require","newsapi","SocialIndex","currAccount","posts","postCount","items","images","newComment","disabled","loading","name","index","username","done","modal","articles","news","console","log","accs","eth","getAccounts","str","state","methods","postComment","send","from","setState","caption","err","message","likePost","signIn","value","utils","toWei","map","article","key","header","title","description","fontSize","extra","url","color","fluid","style","backgroundColor","background","Promise","all","post","getUserDetails","owner","call","src","imgIpfsHash","length","data","files","get","bpic","uint8ToBase64","content","marginBottom","marginTop","timestamp","border","margin","padding","onSubmit","event","target","width","height","marginRight","basic","likes","comments","split","componentDidMount","isUser","userDetails","balance","getContractBalance","fromWei","getPostsCount","Array","parseInt","fill","element","renderPosts","v2","topHeadlines","language","country","then","response","renderArticles","buffer","binary","bytes","slice","Uint8Array","forEach","b","String","fromCharCode","window","btoa","render","paddingRight","marginLeft","borderRadius","white","menuBackground","menuText"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Card,\n  Button,\n  Grid,\n  Image,\n  Form,\n  Modal,\n  Header,\n  List,\n  Input\n} from \"semantic-ui-react\";\nimport Layout from \"../components/Layout\";\nimport social from \"../ethereum/social\";\nimport web3 from \"../ethereum/web3\";\nimport { Link, Router } from \"../routes\";\nimport ipfs from \"../ethereum/ipfs\";\nimport COLORS from \"../colors\";\nconst NewsAPI = require(\"newsapi\");\nconst newsapi = new NewsAPI(\"9596f3ac23f5400a981fa2a3e2f8411b\");\n\nclass SocialIndex extends Component {\n  state = {\n    currAccount: \"\",\n    posts: [],\n    postCount: 0,\n    items: [],\n    images: [],\n    newComment: \"\",\n    disabled: false,\n    loading: false,\n    name: \"\",\n    index: 0,\n    username: \"unknown\",\n    done: false,\n    modal: false,\n    articles: [],\n    news: []\n  };\n\n  onSubmit = async index => {\n    console.log(index);\n    const accs = await web3.eth.getAccounts();\n\n    var str = this.state.username + \": \" + this.state.newComment;\n    console.log(str);\n    try {\n      await social.methods.postComment(index, str).send({ from: accs[0] });\n      console.log(\"Comment Posted by \" + accs[0]);\n      this.setState({ caption: \"\" });\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n\n  async componentDidMount() {\n    const accs = await web3.eth.getAccounts();\n    const isUser = await social.methods.isUser(accs[0]).call();\n    const userDetails = await social.methods.getUserDetails(accs[0]).call();\n    const username = userDetails[0];\n\n    let balance = await social.methods.getContractBalance().call();\n    balance = web3.utils.fromWei(balance, \"ether\");\n    console.log(accs[0], username);\n    console.log(\"Balance: \" + balance);\n\n    this.setState({\n      disabled: isUser,\n      currAccount: accs[0],\n      username: username\n    });\n\n    const postCount = await social.methods.getPostsCount().call();\n    const posts = await Promise.all(\n      Array(parseInt(postCount))\n        .fill()\n        .map((element, index) => {\n          return social.methods.posts(index).call();\n        })\n    );\n\n    this.setState({ posts: posts, postCount: postCount });\n\n    this.renderPosts();\n\n    newsapi.v2\n      .topHeadlines({\n        language: \"en\",\n        country: \"in\"\n      })\n      .then(response => {\n        console.log(response.articles);\n        this.setState({ articles: response.articles });\n        this.renderArticles();\n      });\n  }\n\n  likePost = async index => {\n    console.log(index);\n\n    try {\n      await social.methods.likePost(index).send({\n        from: this.state.currAccount\n      });\n      this.setState({ done: true });\n    } catch (err) {}\n  };\n\n  uint8ToBase64(buffer) {\n    var binary = \"\";\n    var bytes = [].slice.call(new Uint8Array(buffer));\n\n    bytes.forEach(b => (binary += String.fromCharCode(b)));\n\n    return window.btoa(binary);\n  }\n\n  signIn = async () => {\n    this.setState({ loading: true });\n    await social.methods.signIn(this.state.name).send({\n      from: this.state.currAccount,\n      value: web3.utils.toWei(\"0.02\", \"ether\")\n    });\n    this.setState({ loading: false, disabled: true });\n  };\n\n  renderArticles = () => {\n    const articles = this.state.articles;\n\n    const news = articles.map((article, index) => {\n      return {\n        key: index,\n        header: <h4>{article.title}</h4>,\n        description: <p style={{fontSize:\"15px\"}}>{article.description}</p>,\n        extra: <a href={article.url} target=\"_blank\" style={{color:\"blue\"}}>{article.url}</a>,\n        fluid: true,\n        style: {backgroundColor: COLORS.background}\n      };\n    });\n\n    this.setState({ news: news });\n  };\n\n  renderPosts = async () => {\n    const posts = this.state.posts;\n    console.log(this.state.postCount);\n\n    const items = await Promise.all(\n      posts.map(async (post, index) => {\n        const name = await social.methods.getUserDetails(post.owner).call();\n        let src;\n        if (post.imgIpfsHash.length > 0) {\n          const data = await ipfs.files.get(post.imgIpfsHash);\n          const bpic = this.uint8ToBase64(data[0].content);\n          src = \"data:image/png;base64,\" + bpic;\n        } else {\n          src = null;\n        }\n\n        return {\n          key: index,\n          header: (\n            <div>\n              <h4 style={{ marginBottom: \"0px\" }}>{name[0]}</h4>\n              <p style={{ color: \"grey\", marginTop: \"0px\" }}>\n                {post.timestamp}\n              </p>\n              <h3>{post.caption}</h3>\n            </div>\n          ),\n          description: (\n            <div style={{ border: \"2px solid grey\" }}>\n              <p style={{ margin: \"10px\", fontSize: \"15px\" }}>\n                {post.description}\n              </p>\n              <Image\n                style={{ padding: \"20px\" }}\n                hidden={src == null}\n                src={src}\n                fluid\n              />\n            </div>\n          ),\n          extra: (\n            <div>\n              <Form onSubmit={() => this.onSubmit(index)}>\n                <Form.Field inline>\n                  <Input\n                    required\n                    focus\n                    placeholder=\"Add a comment...\"\n                    value={this.state.caption}\n                    onChange={event =>\n                      this.setState({ newComment: event.target.value })\n                    }\n                    style={{ width: \"70%\", height: \"40px\", marginRight: \"0px\" }}\n                  />\n                  <Button\n                    size=\"small\"\n                    color=\"linkedin\"\n                    content=\"Post Comment\"\n                    icon=\"edit\"\n                    style={{ height: \"40px\" }}\n                  />\n                </Form.Field>\n              </Form>\n              <br></br>\n              <Button\n                onClick={() => this.likePost(index)}\n                color=\"red\"\n                content=\"Like\"\n                icon=\"heart\"\n                size=\"medium\"\n                label={{ basic: true, color: \"red\", content: post.likes }}\n              />\n              <Modal\n                trigger={\n                  <Button\n                    size=\"medium\"\n                    color=\"facebook\"\n                    content=\"View Comments\"\n                    icon=\"comments\"\n                    onClick={() => this.setState({ modal: true })}\n                  />\n                }\n                size=\"small\"\n              >\n                <Header content=\"Comments\" />\n                <Modal.Content>\n                  <List divided items={post.comments.split(\"/\")}></List>\n                </Modal.Content>\n                <Modal.Actions>\n                  <Button\n                    color=\"red\"\n                    content=\"Close\"\n                    icon=\"close\"\n                    inverted\n                    onClick={() => this.setState({ modal: false })}\n                  />\n                </Modal.Actions>\n              </Modal>\n            </div>\n          ),\n          fluid: true\n        };\n      })\n    );\n\n    this.setState({ items: items });\n  };\n\n  render() {\n    return (\n      <Layout>\n        <h2>Posts</h2>\n        <Grid>\n          <Grid.Column width={11} style={{ marginRight:\"10px\", paddingRight: \"20px\" }}>\n            <Card.Group centered items={this.state.items} />\n          </Grid.Column>\n\n          <Grid.Column\n            width={4}\n            textAlign=\"left\"\n            style={{\n              marginLeft: \"40px\",\n              marginTop: \"15px\",\n              border: \"1px solid #A9A9A9\",\n              borderRadius: \"5px\",\n              backgroundColor: COLORS.white\n            }}\n          >\n            <Form style={{backgroundColor: COLORS.background, padding:\"10px\", border: \"1px solid #A9A9A9\"}}>\n              <label><h4 style={{color:COLORS.menuBackground}}>Name:</h4></label>\n              <Form.Input\n                style={{ marginTop:\"5px\" }}\n                disabled={this.state.disabled}\n                fluid\n                value={this.state.name}\n                onChange={event => this.setState({ name: event.target.value })}\n              />\n              <Button\n                size=\"medium\"\n                content=\"Sign In\"\n                onClick={this.signIn}\n                style={{\n                  backgroundColor: COLORS.menuBackground,\n                  color: COLORS.menuText,\n                  width: \"100%\"\n                }}\n                disabled={this.state.disabled}\n                loading={this.state.loading}\n              />\n            </Form>\n\n            <br />\n            <Link route=\"/profile\">\n              <a style={{color:COLORS.menuBackground}}><h4>Signed in as {this.state.username}</h4></a>\n            </Link>\n            <br />\n            <Link route=\"/posts/new\">\n              <a>\n                <Button\n                  content=\"Create New Post\"\n                  size=\"medium\"\n                  style={{\n                    backgroundColor: COLORS.menuBackground,\n                    color: COLORS.menuText,\n                    width: \"100%\"\n                  }}\n                  disabled={!this.state.disabled}\n                />\n              </a>\n            </Link>\n            <br />\n            <br />\n            <hr />\n            <h3 style={{marginBottom:\"0px\", color:COLORS.menuBackground}}>News Updates</h3>\n            <p style={{ color:\"grey\", marginBottom: \"20px\" }}>\n              Powered by newsapi.org\n            </p>\n            <Card.Group items={this.state.news} />\n          </Grid.Column>\n        </Grid>\n      </Layout>\n    );\n  }\n}\n\nexport default SocialIndex;\n"]},"metadata":{},"sourceType":"module"}
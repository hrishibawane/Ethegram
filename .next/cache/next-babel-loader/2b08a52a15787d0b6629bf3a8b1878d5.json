{"ast":null,"code":"var _jsxFileName = \"/home/hrishib/Desktop/Ethegram/pages/users/index.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport Layout from \"../../components/Layout\";\nimport social from \"../../ethereum/social\";\nimport web3 from \"../../ethereum/web3\";\nimport Link from \"../../routes\";\nimport { List, Icon, Container } from \"semantic-ui-react\";\nimport COLORS from \"../../colors\";\n\nclass UserIndex extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      users: []\n    });\n\n    _defineProperty(this, \"getUsers\", () => {\n      return this.state.users.map((user, index) => {\n        let score = 0;\n\n        if (user.postsCount != 0) {\n          score = user.tokens / user.postsCount;\n        }\n\n        return __jsx(List.Item, {\n          key: index,\n          style: {\n            borderRadius: \"10px\",\n            marginBottom: \"10px\",\n            backgroundColor: COLORS.divBackground,\n            padding: \"20px\",\n            border: \"2px solid\",\n            borderColor: COLORS.menuBackground\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, __jsx(List.Icon, {\n          name: \"user circle\",\n          size: \"huge\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }), __jsx(List.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, __jsx(List.Header, {\n          style: {\n            fontSize: \"22px\",\n            margin: \"5px\",\n            marginBottom: \"10px\",\n            color: \"#003152\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, __jsx(Link, {\n          route: `/users/${user.uadd}`,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, __jsx(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, user.name))), __jsx(List.Description, {\n          style: {\n            fontSize: \"16px\",\n            marginLeft: \"5px\",\n            color: COLORS.menuBackground\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, __jsx(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, user.uadd), __jsx(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, \"Score: \", score)))));\n      });\n    });\n  }\n\n  async componentDidMount() {\n    const userCount = await social.methods.userCount().call();\n    const users = await Promise.all(Array(parseInt(userCount)).fill().map((element, index) => {\n      return social.methods.peeps(index).call();\n    }));\n    console.log(users);\n    this.setState({\n      users: users\n    });\n  }\n\n  render() {\n    return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, __jsx(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, __jsx(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Users\"), __jsx(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, this.getUsers())));\n  }\n\n}\n\nexport default UserIndex;","map":{"version":3,"sources":["/home/hrishib/Desktop/Ethegram/pages/users/index.js"],"names":["React","Component","Layout","social","web3","Link","List","Icon","Container","COLORS","UserIndex","users","state","map","user","index","score","postsCount","tokens","borderRadius","marginBottom","backgroundColor","divBackground","padding","border","borderColor","menuBackground","fontSize","margin","color","uadd","name","marginLeft","componentDidMount","userCount","methods","call","Promise","all","Array","parseInt","fill","element","peeps","console","log","setState","render","getUsers"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Layout from \"../../components/Layout\";\nimport social from \"../../ethereum/social\";\nimport web3 from \"../../ethereum/web3\";\nimport Link from \"../../routes\";\nimport { List, Icon, Container } from \"semantic-ui-react\";\nimport COLORS from \"../../colors\";\n\nclass UserIndex extends Component {\n  state = {\n    users: []\n  };\n\n  async componentDidMount() {\n    const userCount = await social.methods.userCount().call();\n\n    const users = await Promise.all(\n      Array(parseInt(userCount))\n        .fill()\n        .map((element, index) => {\n          return social.methods.peeps(index).call();\n        })\n    );\n    console.log(users);\n    this.setState({ users: users });\n  }\n\n  getUsers = () => {\n    return this.state.users.map((user, index) => {\n      let score = 0;\n      if (user.postsCount != 0) {\n        score = user.tokens / user.postsCount;\n      }\n      return (\n        <List.Item\n          key={index}\n          style={{\n            borderRadius: \"10px\",\n            marginBottom: \"10px\",\n            backgroundColor: COLORS.divBackground,\n            padding: \"20px\",\n            border: \"2px solid\",\n            borderColor: COLORS.menuBackground\n          }}\n        >\n          <List.Icon name=\"user circle\" size=\"huge\" />\n          <List.Content>\n            <List.Header\n              style={{\n                fontSize: \"22px\",\n                margin: \"5px\",\n                marginBottom: \"10px\",\n                color: \"#003152\"\n              }}\n            >\n              <Link route={`/users/${user.uadd}`}>\n                <a>{user.name}</a>\n              </Link>\n            </List.Header>\n            <List.Description\n              style={{ fontSize: \"16px\", marginLeft: \"5px\", color: COLORS.menuBackground }}\n            >\n              <div>\n                <p>{user.uadd}</p>\n                <p>Score: {score}</p>\n              </div>\n            </List.Description>\n          </List.Content>\n        </List.Item>\n      );\n    });\n  };\n\n  render() {\n    return (\n      <Layout>\n        <Container>\n        <h2>Users</h2>\n        <List>{this.getUsers()}</List>\n        </Container>\n      </Layout>\n    );\n  }\n}\n\nexport default UserIndex;\n"]},"metadata":{},"sourceType":"module"}
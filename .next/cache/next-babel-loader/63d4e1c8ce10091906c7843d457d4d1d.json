{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport Layout from \"../../components/Layout\";\nimport social from \"../../ethereum/social\";\nimport web3 from \"../../ethereum/web3\";\nimport Link from \"../../routes\";\nimport { List, Icon, Container } from \"semantic-ui-react\";\nimport COLORS from \"../../colors\";\n\nvar UserIndex = /*#__PURE__*/function (_Component) {\n  _inherits(UserIndex, _Component);\n\n  function UserIndex() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UserIndex);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UserIndex)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      users: []\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getUsers\", function () {\n      return _this.state.users.map(function (user, index) {\n        var score = 0;\n\n        if (user.postsCount != 0) {\n          score = user.tokens / user.postsCount;\n        }\n\n        return __jsx(List.Item, {\n          key: index,\n          style: {\n            borderRadius: \"10px\",\n            marginBottom: \"10px\",\n            backgroundColor: COLORS.divBackground,\n            padding: \"20px\",\n            border: \"2px solid\",\n            borderColor: COLORS.menuBackground\n          }\n        }, __jsx(List.Icon, {\n          name: \"user circle\",\n          size: \"huge\"\n        }), __jsx(List.Content, null, __jsx(List.Header, {\n          style: {\n            fontSize: \"22px\",\n            margin: \"5px\",\n            marginBottom: \"10px\",\n            color: \"#003152\"\n          }\n        }, user.name), __jsx(List.Description, {\n          style: {\n            fontSize: \"16px\",\n            marginLeft: \"5px\",\n            color: COLORS.menuBackground\n          }\n        }, __jsx(\"div\", null, __jsx(\"p\", null, user.uadd), __jsx(\"p\", null, \"Score: \", score)))));\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(UserIndex, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var userCount, users;\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(social.methods.userCount().call());\n\n            case 2:\n              userCount = _context.sent;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(Promise.all(Array(parseInt(userCount)).fill().map(function (element, index) {\n                return social.methods.peeps(index).call();\n              })));\n\n            case 5:\n              users = _context.sent;\n              console.log(users);\n              this.setState({\n                users: users\n              });\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(Layout, null, __jsx(Container, null, __jsx(\"h2\", null, \"Users\"), __jsx(List, null, this.getUsers())));\n    }\n  }]);\n\n  return UserIndex;\n}(Component);\n\nexport default UserIndex;","map":null,"metadata":{},"sourceType":"module"}
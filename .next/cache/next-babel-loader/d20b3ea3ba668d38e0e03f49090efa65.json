{"ast":null,"code":"var _jsxFileName = \"/home/hrishib/Desktop/Ethegram/pages/users/index.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport Layout from \"../../components/Layout\";\nimport social from \"../../ethereum/social\";\nimport web3 from \"../../ethereum/web3\";\nimport Link from \"../../routes\";\nimport { List, Icon, Container } from \"semantic-ui-react\";\nimport COLORS from \"../../colors\";\n\nclass UserIndex extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      users: [],\n      userList: []\n    });\n\n    _defineProperty(this, \"getUsers\", () => {\n      const userList = this.state.users.map((user, index) => {\n        let score = 0;\n\n        if (user.postsCount != 0) {\n          score = user.tokens / user.postsCount;\n        }\n\n        return __jsx(List.Item, {\n          key: index,\n          style: {\n            borderRadius: \"10px\",\n            marginBottom: \"10px\",\n            backgroundColor: COLORS.divBackground,\n            padding: \"20px\",\n            border: \"2px solid\",\n            borderColor: COLORS.menuBackground\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, __jsx(List.Icon, {\n          name: \"user circle\",\n          size: \"huge\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }), __jsx(List.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, __jsx(List.Header, {\n          style: {\n            fontSize: \"22px\",\n            margin: \"5px\",\n            marginBottom: \"10px\",\n            color: \"#003152\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, user.name), __jsx(List.Description, {\n          style: {\n            fontSize: \"16px\",\n            marginLeft: \"5px\",\n            color: COLORS.menuBackground\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, __jsx(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, user.uadd), __jsx(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, \"Score: \", score)))));\n      });\n      this.setState({\n        userList: userList\n      });\n    });\n  }\n\n  async componentDidMount() {\n    const userCount = await social.methods.userCount().call();\n    const users = await Promise.all(Array(parseInt(userCount)).fill().map((element, index) => {\n      return social.methods.peeps(index).call();\n    }));\n    console.log(users);\n    this.setState({\n      users: users\n    });\n    this.getUsers();\n  }\n\n  render() {\n    return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, __jsx(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, __jsx(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Users\"), __jsx(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, this.state.userList)));\n  }\n\n}\n\nexport default UserIndex;","map":{"version":3,"sources":["/home/hrishib/Desktop/Ethegram/pages/users/index.js"],"names":["React","Component","Layout","social","web3","Link","List","Icon","Container","COLORS","UserIndex","users","userList","state","map","user","index","score","postsCount","tokens","borderRadius","marginBottom","backgroundColor","divBackground","padding","border","borderColor","menuBackground","fontSize","margin","color","name","marginLeft","uadd","setState","componentDidMount","userCount","methods","call","Promise","all","Array","parseInt","fill","element","peeps","console","log","getUsers","render"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,SAArB,QAAsC,mBAAtC;AACA,OAAOC,MAAP,MAAmB,cAAnB;;AAEA,MAAMC,SAAN,SAAwBT,SAAxB,CAAkC;AAAA;AAAA;;AAAA,mCACxB;AACNU,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,QAAQ,EAAE;AAFJ,KADwB;;AAAA,sCAqBrB,MAAM;AACf,YAAMA,QAAQ,GAAG,KAAKC,KAAL,CAAWF,KAAX,CAAiBG,GAAjB,CAAqB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACrD,YAAIC,KAAK,GAAG,CAAZ;;AACA,YAAIF,IAAI,CAACG,UAAL,IAAmB,CAAvB,EAA0B;AACxBD,UAAAA,KAAK,GAAGF,IAAI,CAACI,MAAL,GAAcJ,IAAI,CAACG,UAA3B;AACD;;AACD,eACE,MAAC,IAAD,CAAM,IAAN;AACE,UAAA,GAAG,EAAEF,KADP;AAEE,UAAA,KAAK,EAAE;AACLI,YAAAA,YAAY,EAAE,MADT;AAELC,YAAAA,YAAY,EAAE,MAFT;AAGLC,YAAAA,eAAe,EAAEb,MAAM,CAACc,aAHnB;AAILC,YAAAA,OAAO,EAAE,MAJJ;AAKLC,YAAAA,MAAM,EAAE,WALH;AAMLC,YAAAA,WAAW,EAAEjB,MAAM,CAACkB;AANf,WAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAWE,MAAC,IAAD,CAAM,IAAN;AAAW,UAAA,IAAI,EAAC,aAAhB;AAA8B,UAAA,IAAI,EAAC,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAXF,EAYE,MAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,IAAD,CAAM,MAAN;AACE,UAAA,KAAK,EAAE;AACLC,YAAAA,QAAQ,EAAE,MADL;AAELC,YAAAA,MAAM,EAAE,KAFH;AAGLR,YAAAA,YAAY,EAAE,MAHT;AAILS,YAAAA,KAAK,EAAE;AAJF,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAQGf,IAAI,CAACgB,IARR,CADF,EAcE,MAAC,IAAD,CAAM,WAAN;AACE,UAAA,KAAK,EAAE;AAAEH,YAAAA,QAAQ,EAAE,MAAZ;AAAoBI,YAAAA,UAAU,EAAE,KAAhC;AAAuCF,YAAAA,KAAK,EAAErB,MAAM,CAACkB;AAArD,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIZ,IAAI,CAACkB,IAAT,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAWhB,KAAX,CAFF,CAHF,CAdF,CAZF,CADF;AAsCD,OA3CgB,CAAjB;AA6CA,WAAKiB,QAAL,CAAc;AAAEtB,QAAAA,QAAQ,EAAEA;AAAZ,OAAd;AACD,KApE+B;AAAA;;AAMhC,QAAMuB,iBAAN,GAA0B;AACxB,UAAMC,SAAS,GAAG,MAAMjC,MAAM,CAACkC,OAAP,CAAeD,SAAf,GAA2BE,IAA3B,EAAxB;AAEA,UAAM3B,KAAK,GAAG,MAAM4B,OAAO,CAACC,GAAR,CAClBC,KAAK,CAACC,QAAQ,CAACN,SAAD,CAAT,CAAL,CACGO,IADH,GAEG7B,GAFH,CAEO,CAAC8B,OAAD,EAAU5B,KAAV,KAAoB;AACvB,aAAOb,MAAM,CAACkC,OAAP,CAAeQ,KAAf,CAAqB7B,KAArB,EAA4BsB,IAA5B,EAAP;AACD,KAJH,CADkB,CAApB;AAOAQ,IAAAA,OAAO,CAACC,GAAR,CAAYpC,KAAZ;AACA,SAAKuB,QAAL,CAAc;AAAEvB,MAAAA,KAAK,EAAEA;AAAT,KAAd;AACA,SAAKqC,QAAL;AACD;;AAmDDC,EAAAA,MAAM,GAAG;AACP,WACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADA,EAEA,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO,KAAKpC,KAAL,CAAWD,QAAlB,CAFA,CADF,CADF;AAQD;;AA/E+B;;AAkFlC,eAAeF,SAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Layout from \"../../components/Layout\";\nimport social from \"../../ethereum/social\";\nimport web3 from \"../../ethereum/web3\";\nimport Link from \"../../routes\";\nimport { List, Icon, Container } from \"semantic-ui-react\";\nimport COLORS from \"../../colors\";\n\nclass UserIndex extends Component {\n  state = {\n    users: [],\n    userList: []\n  };\n\n  async componentDidMount() {\n    const userCount = await social.methods.userCount().call();\n\n    const users = await Promise.all(\n      Array(parseInt(userCount))\n        .fill()\n        .map((element, index) => {\n          return social.methods.peeps(index).call();\n        })\n    );\n    console.log(users);\n    this.setState({ users: users });\n    this.getUsers();\n  }\n\n  getUsers = () => {\n    const userList = this.state.users.map((user, index) => {\n      let score = 0;\n      if (user.postsCount != 0) {\n        score = user.tokens / user.postsCount;\n      }\n      return (\n        <List.Item\n          key={index}\n          style={{\n            borderRadius: \"10px\",\n            marginBottom: \"10px\",\n            backgroundColor: COLORS.divBackground,\n            padding: \"20px\",\n            border: \"2px solid\",\n            borderColor: COLORS.menuBackground\n          }}\n        >\n          <List.Icon name=\"user circle\" size=\"huge\" />\n          <List.Content>\n            <List.Header\n              style={{\n                fontSize: \"22px\",\n                margin: \"5px\",\n                marginBottom: \"10px\",\n                color: \"#003152\"\n              }}\n            >\n              {user.name}\n              {/* <Link route={`/users/${user.uadd}`}>\n                <a>{user.name}</a>\n              </Link> */}\n            </List.Header>\n            <List.Description\n              style={{ fontSize: \"16px\", marginLeft: \"5px\", color: COLORS.menuBackground }}\n            >\n              <div>\n                <p>{user.uadd}</p>\n                <p>Score: {score}</p>\n              </div>\n            </List.Description>\n          </List.Content>\n        </List.Item>\n      );\n    });\n\n    this.setState({ userList: userList });\n  };\n\n  render() {\n    return (\n      <Layout>\n        <Container>\n        <h2>Users</h2>\n        <List>{this.state.userList}</List>\n        </Container>\n      </Layout>\n    );\n  }\n}\n\nexport default UserIndex;\n"]},"metadata":{},"sourceType":"module"}
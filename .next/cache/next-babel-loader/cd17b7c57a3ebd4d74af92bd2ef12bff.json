{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/hrishib/Desktop/prototype/pages/profile/index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport { Form, Button, Input, Image, Message, Grid, Container } from \"semantic-ui-react\";\nimport Layout from \"../../components/Layout\";\nimport social from \"../../ethereum/social\";\nimport web3 from \"../../ethereum/web3\";\nimport ipfs from \"../../ethereum/ipfs\";\nimport { Router } from \"../../routes\";\nimport CountUp from \"react-countup\";\nimport COLORS from \"../../colors\";\n\nvar Profile = /*#__PURE__*/function (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Profile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      tokens: 0,\n      username: \"\",\n      useraddress: \"\",\n      userposts: 0,\n      userbalance: 0.0,\n      redeemtokens: 0,\n      inputRedeem: 0,\n      err: false,\n      errMessage: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"redeemTokens\", function _callee() {\n      var _this$state, inputRedeem, useraddress, redeemtokens, value;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$state = _this.state, inputRedeem = _this$state.inputRedeem, useraddress = _this$state.useraddress, redeemtokens = _this$state.redeemtokens;\n\n              if (!(inputRedeem == 0 || inputRedeem > redeemtokens)) {\n                _context.next = 5;\n                break;\n              }\n\n              _this.setState({\n                err: true,\n                errMessage: \"You do no have enough Redeemable Tokens\"\n              });\n\n              _context.next = 16;\n              break;\n\n            case 5:\n              _context.prev = 5;\n              value = inputRedeem * 0.001;\n              value = value.toString();\n              value = web3.utils.toWei(value, \"ether\");\n              _context.next = 11;\n              return _regeneratorRuntime.awrap(social.methods.redeemNTokens(inputRedeem, value).send({\n                from: useraddress\n              }));\n\n            case 11:\n              _context.next = 16;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](5);\n              console.log(_context.t0);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[5, 13]], Promise);\n    });\n\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var accs, userDetails, userAddress, userBalance;\n      return _regeneratorRuntime.async(function componentDidMount$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(web3.eth.getAccounts());\n\n            case 2:\n              accs = _context2.sent;\n              _context2.next = 5;\n              return _regeneratorRuntime.awrap(social.methods.getUserDetails(accs[0]).call());\n\n            case 5:\n              userDetails = _context2.sent;\n              userAddress = accs[0];\n              _context2.next = 9;\n              return _regeneratorRuntime.awrap(web3.eth.getBalance(accs[0]));\n\n            case 9:\n              userBalance = _context2.sent;\n              userBalance = web3.utils.fromWei(userBalance, \"ether\");\n              userBalance = parseFloat(userBalance).toFixed(4);\n              console.log(userBalance);\n              this.setState({\n                username: userDetails[0],\n                tokens: userDetails[1],\n                useraddress: userAddress,\n                userposts: userDetails[2],\n                redeemtokens: userDetails[3],\n                userbalance: userBalance\n              });\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, __jsx(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }), __jsx(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        style: {\n          color: COLORS.menuBackground,\n          fontSize: \"50px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, this.state.username), __jsx(\"div\", {\n        style: {\n          backgroundColor: COLORS.divBackground,\n          padding: \"10px\",\n          width: \"500px\",\n          borderRadius: \"20px\",\n          border: \"1px solid\",\n          borderColor: COLORS.menuBackground\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        style: {\n          color: COLORS.menuBackground,\n          fontWeight: \"bold\",\n          fontSize: \"15px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, this.state.useraddress))), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), __jsx(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), __jsx(Grid, {\n        centered: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, __jsx(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, __jsx(Grid.Column, {\n        width: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: {\n          padding: \"20px\",\n          height: \"100%\",\n          borderRadius: \"50px\",\n          backgroundColor: COLORS.menuBackground,\n          color: COLORS.menuText,\n          border: \"2px solid\",\n          borderColor: COLORS.divBackground\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, __jsx(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        style: {\n          fontSize: \"40px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"Total Posts\"), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), __jsx(CountUp, {\n        style: {\n          fontSize: \"80px\",\n          alignContent: \"center\",\n          justifyContent: \"center\"\n        },\n        start: 0,\n        end: this.state.userposts,\n        duration: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      })))), __jsx(Grid.Column, {\n        width: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: {\n          padding: \"20px\",\n          height: \"100%\",\n          borderRadius: \"50px\",\n          backgroundColor: COLORS.divBackground,\n          color: COLORS.menuBackground,\n          border: \"2px solid\",\n          borderColor: COLORS.menuBackground\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, __jsx(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        style: {\n          fontSize: \"40px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Total Tokens Earned\"), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), __jsx(CountUp, {\n        style: {\n          fontSize: \"80px\",\n          alignContent: \"center\",\n          justifyContent: \"center\"\n        },\n        start: 0,\n        end: this.state.tokens,\n        duration: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), __jsx(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"GTok\"))))), __jsx(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, __jsx(Grid.Column, {\n        width: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: {\n          padding: \"20px\",\n          height: \"100%\",\n          borderRadius: \"50px\",\n          backgroundColor: COLORS.divBackground,\n          color: COLORS.menuBackground,\n          border: \"2px solid\",\n          borderColor: COLORS.menuBackground\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, __jsx(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        style: {\n          fontSize: \"40px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Redeemable Tokens\"), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }), __jsx(CountUp, {\n        style: {\n          fontSize: \"80px\",\n          alignContent: \"center\",\n          justifyContent: \"center\",\n          margin: \"10px\"\n        },\n        start: 0.0,\n        end: this.state.redeemtokens,\n        duration: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }), __jsx(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \"GTok\")))), __jsx(Grid.Column, {\n        width: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: {\n          padding: \"20px\",\n          height: \"100%\",\n          borderRadius: \"50px\",\n          backgroundColor: COLORS.menuBackground,\n          color: COLORS.menuText,\n          border: \"2px solid\",\n          borderColor: COLORS.divBackground\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, __jsx(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, __jsx(\"h1\", {\n        style: {\n          fontSize: \"40px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"Account Balance\"), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }), __jsx(CountUp, {\n        style: {\n          fontSize: \"80px\",\n          alignContent: \"center\",\n          justifyContent: \"center\",\n          margin: \"10px\"\n        },\n        start: 0.0,\n        end: this.state.userbalance,\n        decimals: 4,\n        duration: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }), __jsx(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"ETH\")))))), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }), __jsx(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }), __jsx(\"h1\", {\n        style: {\n          color: COLORS.menuBackground\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, \"Redeem Tokens\"), __jsx(\"p\", {\n        style: {\n          color: COLORS.menuBackground,\n          fontSize: \"15px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, \"(Note: Tokens can be redeemed if tokens are greater than 10)\"), __jsx(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, __jsx(Form.Field, {\n        inline: true,\n        style: {\n          height: \"50px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, __jsx(\"label\", {\n        style: {\n          color: COLORS.menuBackground,\n          fontSize: \"18px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, \"Tokens to redeem:\", \" \"), __jsx(Input, {\n        required: true,\n        focus: true,\n        placeholder: \"No. of Tokens\",\n        style: {\n          fontSize: \"18px\"\n        },\n        onChange: function onChange(event) {\n          return _this2.setState({\n            inputRedeem: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }), __jsx(Button, {\n        icon: \"money\",\n        content: \"Redeem\",\n        style: {\n          height: \"45px\",\n          fontSize: \"16px\",\n          color: COLORS.menuText,\n          backgroundColor: COLORS.menuBackground\n        },\n        onClick: function onClick() {\n          return _this2.redeemTokens();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      })), __jsx(Message, {\n        error: true,\n        header: \"Insufficient Tokens!\",\n        visible: this.state.err,\n        content: this.state.errMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      })), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }), __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Profile;\n}(Component); // tokens earned and withdrawable tokens\n// 37.4642\n\n\nexport default Profile;","map":{"version":3,"sources":["/home/hrishib/Desktop/prototype/pages/profile/index.js"],"names":["React","Component","Form","Button","Input","Image","Message","Grid","Container","Layout","social","web3","ipfs","Router","CountUp","COLORS","Profile","tokens","username","useraddress","userposts","userbalance","redeemtokens","inputRedeem","err","errMessage","state","setState","value","toString","utils","toWei","methods","redeemNTokens","send","from","console","log","eth","getAccounts","accs","getUserDetails","call","userDetails","userAddress","getBalance","userBalance","fromWei","parseFloat","toFixed","color","menuBackground","fontSize","backgroundColor","divBackground","padding","width","borderRadius","border","borderColor","fontWeight","height","menuText","alignContent","justifyContent","margin","event","target","redeemTokens"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Form,\n  Button,\n  Input,\n  Image,\n  Message,\n  Grid,\n  Container\n} from \"semantic-ui-react\";\nimport Layout from \"../../components/Layout\";\nimport social from \"../../ethereum/social\";\nimport web3 from \"../../ethereum/web3\";\nimport ipfs from \"../../ethereum/ipfs\";\nimport { Router } from \"../../routes\";\nimport CountUp from \"react-countup\";\nimport COLORS from \"../../colors\";\n\nclass Profile extends Component {\n  state = {\n    tokens: 0,\n    username: \"\",\n    useraddress: \"\",\n    userposts: 0,\n    userbalance: 0.0,\n    redeemtokens: 0,\n    inputRedeem: 0,\n    err: false,\n    errMessage: \"\"\n  };\n\n  async componentDidMount() {\n    const accs = await web3.eth.getAccounts();\n    const userDetails = await social.methods.getUserDetails(accs[0]).call();\n    const userAddress = accs[0];\n\n    let userBalance = await web3.eth.getBalance(accs[0]);\n    userBalance = web3.utils.fromWei(userBalance, \"ether\");\n    userBalance = parseFloat(userBalance).toFixed(4);\n    console.log(userBalance);\n\n    this.setState({\n      username: userDetails[0],\n      tokens: userDetails[1],\n      useraddress: userAddress,\n      userposts: userDetails[2],\n      redeemtokens: userDetails[3],\n      userbalance: userBalance\n    });\n  }\n\n  redeemTokens = async () => {\n    const { inputRedeem, useraddress, redeemtokens } = this.state;\n\n    if (inputRedeem == 0 || inputRedeem > redeemtokens) {\n      this.setState({\n        err: true,\n        errMessage: \"You do no have enough Redeemable Tokens\"\n      });\n    } else {\n      try {\n        let value = inputRedeem * 0.001;\n        value = value.toString();\n        value = web3.utils.toWei(value, \"ether\");\n        await social.methods.redeemNTokens(inputRedeem, value).send({\n          from: useraddress\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  render() {\n    return (\n      <Layout>\n        <Container>\n        <br></br>\n        <center>\n          <h1 style={{ color: COLORS.menuBackground, fontSize: \"50px\" }}>\n            {this.state.username}\n          </h1>\n          <div\n            style={{\n              backgroundColor: COLORS.divBackground,\n              padding: \"10px\",\n              width: \"500px\",\n              borderRadius: \"20px\",\n              border:\"1px solid\",\n              borderColor:COLORS.menuBackground\n            }}\n          >\n            <p style={{ color: COLORS.menuBackground, fontWeight:\"bold\", fontSize: \"15px\" }}>\n              {this.state.useraddress}\n            </p>\n          </div>\n        </center>\n        <br />\n        <br />\n        <hr />\n        <br />\n        <br />\n        <Grid centered>\n          <Grid.Row>\n            <Grid.Column width=\"8\">\n              <div\n                style={{\n                  padding: \"20px\",\n                  height: \"100%\",\n                  borderRadius: \"50px\",\n                  backgroundColor: COLORS.menuBackground,\n                  color: COLORS.menuText,\n                  border: \"2px solid\",\n                  borderColor: COLORS.divBackground\n                }}\n              >\n                <center>\n                  <h1 style={{ fontSize: \"40px\" }}>Total Posts</h1>\n                  <br />\n                  <br />\n                  <CountUp\n                    style={{\n                      fontSize: \"80px\",\n                      alignContent: \"center\",\n                      justifyContent: \"center\"\n                    }}\n                    start={0}\n                    end={this.state.userposts}\n                    duration={5}\n                  />\n                </center>\n              </div>\n            </Grid.Column>\n            <Grid.Column width=\"8\">\n              <div\n                style={{\n                  padding: \"20px\",\n                  height: \"100%\",\n                  borderRadius: \"50px\",\n                  backgroundColor: COLORS.divBackground,\n                  color: COLORS.menuBackground,\n                  border: \"2px solid\",\n                  borderColor: COLORS.menuBackground\n                }}\n              >\n                <center>\n                  <h1 style={{ fontSize: \"40px\" }}>Total Tokens Earned</h1>\n                  <br />\n                  <br />\n                  <CountUp\n                    style={{\n                      fontSize: \"80px\",\n                      alignContent: \"center\",\n                      justifyContent: \"center\"\n                    }}\n                    start={0}\n                    end={this.state.tokens}\n                    duration={5}\n                  />\n                  <h1>GTok</h1>\n                </center>\n              </div>\n            </Grid.Column>\n          </Grid.Row>\n          <Grid.Row>\n            <Grid.Column width=\"8\">\n              <div\n                style={{\n                  padding: \"20px\",\n                  height: \"100%\",\n                  borderRadius: \"50px\",\n                  backgroundColor: COLORS.divBackground,\n                  color: COLORS.menuBackground,\n                  border: \"2px solid\",\n                  borderColor: COLORS.menuBackground\n                }}\n              >\n                <center>\n                  <h1 style={{ fontSize: \"40px\" }}>Redeemable Tokens</h1>\n                  <br />\n                  <br />\n                  <CountUp\n                    style={{\n                      fontSize: \"80px\",\n                      alignContent: \"center\",\n                      justifyContent: \"center\",\n                      margin: \"10px\"\n                    }}\n                    start={0.0}\n                    end={this.state.redeemtokens}\n                    duration={5}\n                  />\n                  <h1>GTok</h1>\n                </center>\n              </div>\n            </Grid.Column>\n            <Grid.Column width=\"8\">\n              <div\n                style={{\n                  padding: \"20px\",\n                  height: \"100%\",\n                  borderRadius: \"50px\",\n                  backgroundColor: COLORS.menuBackground,\n                  color: COLORS.menuText,\n                  border: \"2px solid\",\n                  borderColor: COLORS.divBackground\n                }}\n              >\n                \n                <center>\n                  <h1 style={{ fontSize: \"40px\" }}>Account Balance</h1>\n                  <br />\n                  <br />\n                  <CountUp\n                    style={{\n                      fontSize: \"80px\",\n                      alignContent: \"center\",\n                      justifyContent: \"center\",\n                      margin: \"10px\"\n                    }}\n                    start={0.0}\n                    end={this.state.userbalance}\n                    decimals={4}\n                    duration={5}\n                  />\n                  <h1>ETH</h1>\n                </center>\n              </div>\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n        <br />\n        <br />\n        <hr />\n        <br />\n\n        <h1 style={{ color: COLORS.menuBackground }}>Redeem Tokens</h1>\n        <p style={{ color: COLORS.menuBackground, fontSize: \"15px\" }}>\n          (Note: Tokens can be redeemed if tokens are greater than 10)\n        </p>\n\n        <Form>\n          <Form.Field inline style={{ height: \"50px\" }}>\n            <label style={{ color: COLORS.menuBackground, fontSize: \"18px\" }}>\n              Tokens to redeem:{\" \"}\n            </label>\n            <Input\n              required\n              focus\n              placeholder=\"No. of Tokens\"\n              style={{ fontSize: \"18px\" }}\n              onChange={event =>\n                this.setState({ inputRedeem: event.target.value })\n              }\n            />\n            <Button\n              icon=\"money\"\n              content=\"Redeem\"\n              style={{\n                height: \"45px\",\n                fontSize: \"16px\",\n                color: COLORS.menuText,\n                backgroundColor: COLORS.menuBackground\n              }}\n              onClick={() => this.redeemTokens()}\n            />\n          </Form.Field>\n          <Message\n            error\n            header=\"Insufficient Tokens!\"\n            visible={this.state.err}\n            content={this.state.errMessage}\n          />\n        </Form>\n        <br />\n        <br />\n        </Container>\n      </Layout>\n    );\n  }\n}\n// tokens earned and withdrawable tokens\n// 37.4642\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}